// Generated by CoffeeScript 1.4.0
(function() {
  var CLI, Commander, SocialCoffee, Thrift, readline;

  Thrift = require('./thrift/client');

  SocialCoffee = require('./version');

  readline = require('readline');

  Commander = require('commander');

  CLI = (function() {

    function CLI() {}

    CLI.prototype.completer = function(line) {
      return null;
    };

    CLI.prototype.start = function(args) {
      var cmd_options, options, prompt;
      Commander.version("Social Coffee v" + SocialCoffee.version + " '" + SocialCoffee.codename + "'").option('-p, --port <n>', 'Port number', parseInt).option('-h, --host [host]', 'Host number', 'localhost').parse(args);
      options = {};
      options['host'] = Commander.host || 'localhost';
      options['port'] = Commander.port || 9090;
      this.client = Thrift.Client.connect(options.host, options.port);
      cmd_options = {
        input: process.stdin,
        output: process.stdout,
        completer: this.completer
      };
      this.cmd_interface = readline.createInterface(cmd_options);
      prompt = "" + options.host + ":" + options.port + ">";
      this.cmd_interface.setPrompt(prompt, prompt.length);
      this.cmd_interface.on('line', function(line) {});
      this.cmd_interface.on('close', function() {
        return process.exit(0);
      });
      return this.cmd_interface.prompt();
    };

    return CLI;

  })();

  module.exports = CLI;

}).call(this);
